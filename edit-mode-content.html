<link rel="import" href="../polymer/polymer.html">

<!--
Element providing solution to editing/saving content.

##### Example

    <edit-mode-content></edit-mode-content>

@element edit-mode-content
@demo demo/index.html
@homepage http://BasicElements.github.io/edit-mode-content
-->
<dom-module id="edit-mode-content">
  <style>
      :host, #edit {
        min-width: 200px;
        height: 100%;
        width: 100%;
        min-height: 20px;
      }
    </style>
  <template>
    <div id="edit" contenteditable$="[[editMode]]">{{content}}</div>
  </template>
  <script>
    Polymer({
      is: 'edit-mode-content',
      properties: {
        content: { type: String, notify: true },
        editMode: { type: Boolean, value: false, notify: true },
        /**
        * Attribute for firing the 'content-saved' event.
        */
        eventAttribute: {
          type: String,
          value: 'fire-event'
        }
      },
      /**
      * 'saveContent' saves the edited content to the 'content' attribute.
      *
      * @method saveContent
      * @param {string} innerText
      */
      saveContent: function (item) {
        if (this.hasAttribute(this.eventAttribute)) {
          var item = this.$.edit.innerText;
          this.fire('content-saved', item);
        } else {
          this.content = Polymer.dom(this.$.edit).innerHTML;
        }
      }
    });
  </script>
</dom-module>
