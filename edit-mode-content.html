<link rel="import" href="../polymer/polymer.html">

<!--
Element providing solution to editing/saving content.

##### Example

    <edit-mode-content></edit-mode-content>

@element edit-mode-content
@blurb Element providing solution to editing/saving content.
@status alpha
@homepage http://BasicElements.github.io/edit-mode-content
@homepage http://BasicElements.github.io/edit-mode-content/demo.html
-->
<polymer-element name="edit-mode-content" attributes="editMode content">
  <template>
    <style>
      :host, #edit {
        min-width: 200px;
        height: 100%;
        width: 100%;
        min-height: 20px;
      }
    </style>
    <!-- TODO: add some styling -->
    <div id="edit" contentEditable?="{{editMode}}">{{content}}</div>
  </template>
  <script>
    Polymer({
      publish: {
        events: {value: false, reflect: true}
      },
      eventAttribute: 'fire-event',

      /**
      * 'saveContent' saves the edited content to the 'content' attribute.
      *
      * @method saveContent
      * @param {string} innerText
      */
      saveContent: function(item) {
        if(this.hasAttribute(this.eventAttribute)) {
          var item = this.$.edit.innerText;
          this.fire('content-saved', item);
        }else{
          this.content = this.$.edit.innerText;
        }
      }
    });
  </script>
</polymer-element>
